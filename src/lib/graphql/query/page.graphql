query PageContent($uri: ID!) {
  page(id: $uri, idType: URI) {
    id
    editorBlocks {
      name
      parentClientId
      clientId
      ...CoreParagraphFragment
      ...CoreHeadingFragment
      ...AcfHomePageHeroFragment
      ...AcfServicePushFragment
      ...CoreColumnsFragment
      ...AcfGalerieFragment
      ...AcfPortfolioBlockFragment
      ...CoreGroupFragment
      ...PortfolioBlockDetailsFragment
    }
  }
}

fragment PortfolioBlockDetailsFragment on AcfPortfolioBlock {
  name
  portfolioBlock {
    portfolioItems {
      nodes {
        slug
        ... on Nhtbl_project {
          imageGallery {
            imageGallery {
              nodes {
                altText
                mediaDetails {
                  sizes {
                    sourceUrl
                    width
                    height
                    name
                  }
                }
              }
            }
          }
          content(format: RENDERED)
          featuredImage {
            node {
              altText
              mediaDetails {
                sizes {
                  height
                  width
                  name
                  sourceUrl
                }
              }
            }
          }
        }
      }
    }
  }
}

fragment MediaDetailsFragment on MediaDetails {
  sizes {
    name
    sourceUrl
    width
    height
  }
}

fragment CoreGroupFragment on CoreGroup {
  attributes {
    backgroundColor
  }
}

fragment CoreColumnsFragment on CoreColumns {
  attributes {
    layout
    className
    verticalAlignment
    style
  }
}

fragment AcfGalerieFragment on AcfGalerie {
  galerie {
    galerie {
      nodes {
        altText
        caption(format: RENDERED)
        mediaDetails {
          ...MediaDetailsFragment
        }
      }
    }
  }
}

fragment AcfPortfolioBlockFragment on AcfPortfolioBlock {
  portfolioBlock {
    portfolioItems {
      nodes {
        slug
        ... on Nhtbl_project {
          id
          uri
          imageGallery {
            imageGallery {
              nodes {
                altText
                mediaDetails {
                  ...MediaDetailsFragment
                }
              }
            }
          }
        }
      }
    }
  }
}

fragment CoreParagraphFragment on CoreParagraph {
  attributes {
    content
    fontFamily
    fontSize
    textColor
    align
  }
}

fragment AcfHomePageHeroFragment on AcfHomePageHero {
  attributes {
    backgroundColor
  }
  homePageHero {
    images(first:100) {
      nodes {
        mediaDetails {
          ...MediaDetailsFragment
        }
        altText
      }
    }
  }
}

fragment CoreHeadingFragment on CoreHeading {
  attributes {
    content
    fontFamily
    fontSize
    textColor
    textAlign
    level
  }
}

fragment AcfServicePushFragment on AcfServicePush {
  servicePush {
    service {
      nodes {
        slug
        ... on Page {
          id
          title
          uri
          featuredImage {
            node {
              altText
              mediaDetails {
                ...MediaDetailsFragment
              }
            }
          }
        }
      }
    }
  }
}
